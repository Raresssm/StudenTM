# StudenTM - Student Task Manager

A comprehensive, full-stack web application designed for university students to manage their academic schedule, courses, exams, and personal tasks. Built with modern technologies including Next.js 14, TypeScript, and Supabase.

---

## ğŸ“‹ Table of Contents

1. [Project Overview](#-project-overview)
2. [System Architecture](#-system-architecture)
3. [Frontend Architecture](#-frontend-architecture)
4. [Backend Architecture](#-backend-architecture)
5. [Authentication System](#-authentication-system)
6. [Database Design](#-database-design)
7. [Component Architecture](#-component-architecture)
8. [State Management](#-state-management)
9. [Data Flow](#-data-flow)
10. [API Layer](#-api-layer)
11. [Security Architecture](#-security-architecture)
12. [Features Overview](#-features-overview)
13. [Tech Stack](#-tech-stack)
14. [Project Structure](#-project-structure)
15. [Setup Guide](#-setup-guide)

---

## ğŸ¯ Project Overview

### Purpose

StudenTM is a task management application specifically designed for university students. It addresses the unique challenges students face in organizing:

- **Academic courses** with recurring weekly/biweekly schedules
- **Different activity types** (lectures, seminars, laboratories, projects)
- **Exam periods** with grade tracking and GPA calculation
- **Personal tasks** alongside academic responsibilities
- **Semester-based scheduling** aligned with academic calendars

### Key Differentiators

Unlike generic task managers, StudenTM understands:
- Academic semester structure (14 weeks + exam sessions)
- Recurring class schedules that span entire semesters
- The concept of course credits and weighted grade averages
- The difference between completable tasks (personal) and attendance-based events (courses)

---

## ğŸ—ï¸ System Architecture

### High-Level Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              CLIENT LAYER                                   â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         Next.js 14 Application                        â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚   â”‚   Pages     â”‚    â”‚  Components â”‚    â”‚      Providers          â”‚  â”‚  â”‚
â”‚  â”‚   â”‚             â”‚    â”‚             â”‚    â”‚                         â”‚  â”‚  â”‚
â”‚  â”‚   â”‚ â€¢ /         â”‚â—„â”€â”€â–ºâ”‚ â€¢ Calendar  â”‚â—„â”€â”€â–ºâ”‚ â€¢ AuthProvider          â”‚  â”‚  â”‚
â”‚  â”‚   â”‚ â€¢ /login    â”‚    â”‚ â€¢ TaskModal â”‚    â”‚   (User State)          â”‚  â”‚  â”‚
â”‚  â”‚   â”‚ â€¢ /signup   â”‚    â”‚ â€¢ Toast     â”‚    â”‚                         â”‚  â”‚  â”‚
â”‚  â”‚   â”‚ â€¢ /auth/*   â”‚    â”‚ â€¢ Stats     â”‚    â”‚ â€¢ React Context API     â”‚  â”‚  â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                              â”‚                                        â”‚  â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚   â”‚                    Utility Layer                             â”‚    â”‚  â”‚
â”‚  â”‚   â”‚  â€¢ supabase-tasks.ts (CRUD Operations)                       â”‚    â”‚  â”‚
â”‚  â”‚   â”‚  â€¢ tasks.ts (Business Logic)                                 â”‚    â”‚  â”‚
â”‚  â”‚   â”‚  â€¢ semester.ts (Academic Calendar Logic)                     â”‚    â”‚  â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚                                        â”‚
â”‚                                    â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Supabase Client SDK                              â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚   â”‚  Browser Client â”‚              â”‚      Server Client          â”‚   â”‚  â”‚
â”‚  â”‚   â”‚  (client.ts)    â”‚              â”‚      (server.ts)            â”‚   â”‚  â”‚
â”‚  â”‚   â”‚                 â”‚              â”‚                             â”‚   â”‚  â”‚
â”‚  â”‚   â”‚  Used in:       â”‚              â”‚  Used in:                   â”‚   â”‚  â”‚
â”‚  â”‚   â”‚  â€¢ Components   â”‚              â”‚  â€¢ API Routes               â”‚   â”‚  â”‚
â”‚  â”‚   â”‚  â€¢ Client Pages â”‚              â”‚  â€¢ Server Components        â”‚   â”‚  â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â”‚ HTTPS (TLS 1.3)
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           MIDDLEWARE LAYER                                  â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Next.js Middleware                               â”‚  â”‚
â”‚  â”‚                      (middleware.ts)                                  â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚   â€¢ Intercepts ALL requests before they reach pages                  â”‚  â”‚
â”‚  â”‚   â€¢ Validates user session with Supabase                             â”‚  â”‚
â”‚  â”‚   â€¢ Redirects unauthenticated users to /login                        â”‚  â”‚
â”‚  â”‚   â€¢ Allows access to /login, /signup, /auth/callback                 â”‚  â”‚
â”‚  â”‚   â€¢ Refreshes session tokens automatically                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â”‚ HTTPS API Calls
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            BACKEND LAYER                                    â”‚
â”‚                         (Supabase Cloud)                                   â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        API Gateway                                  â”‚   â”‚
â”‚  â”‚              (PostgREST - Auto-generated REST API)                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                       â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚         â–¼                          â–¼                          â–¼           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              â”‚         â”‚              â”‚         â”‚                  â”‚  â”‚
â”‚  â”‚  Auth        â”‚         â”‚  Database    â”‚         â”‚  Row Level       â”‚  â”‚
â”‚  â”‚  Service     â”‚         â”‚  (PostgreSQL)â”‚         â”‚  Security        â”‚  â”‚
â”‚  â”‚              â”‚         â”‚              â”‚         â”‚                  â”‚  â”‚
â”‚  â”‚ â€¢ Sign up    â”‚         â”‚ â€¢ tasks      â”‚         â”‚ â€¢ Policy Engine  â”‚  â”‚
â”‚  â”‚ â€¢ Sign in    â”‚         â”‚ â€¢ auth.users â”‚         â”‚ â€¢ Per-row checks â”‚  â”‚
â”‚  â”‚ â€¢ OAuth      â”‚         â”‚ â€¢ Indexes    â”‚         â”‚ â€¢ User isolation â”‚  â”‚
â”‚  â”‚ â€¢ Sessions   â”‚         â”‚ â€¢ Triggers   â”‚         â”‚                  â”‚  â”‚
â”‚  â”‚ â€¢ JWT tokens â”‚         â”‚              â”‚         â”‚                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Request Flow Sequence

```
â”Œâ”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Clientâ”‚     â”‚ Middleware â”‚     â”‚ Supabase  â”‚     â”‚PostgRESTâ”‚     â”‚PostgreSQLâ”‚
â””â”€â”€â”¬â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
   â”‚               â”‚                   â”‚                â”‚               â”‚
   â”‚ HTTP Request  â”‚                   â”‚                â”‚               â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚                â”‚               â”‚
   â”‚               â”‚                   â”‚                â”‚               â”‚
   â”‚               â”‚ Validate Session  â”‚                â”‚               â”‚
   â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                â”‚               â”‚
   â”‚               â”‚                   â”‚                â”‚               â”‚
   â”‚               â”‚ Session Valid/Invalid              â”‚               â”‚
   â”‚               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚               â”‚
   â”‚               â”‚                   â”‚                â”‚               â”‚
   â”‚  [If Invalid] â”‚                   â”‚                â”‚               â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ Redirect /login   â”‚                â”‚               â”‚
   â”‚               â”‚                   â”‚                â”‚               â”‚
   â”‚  [If Valid]   â”‚                   â”‚                â”‚               â”‚
   â”‚               â”‚ Continue to Page  â”‚                â”‚               â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚                â”‚               â”‚
   â”‚               â”‚                   â”‚                â”‚               â”‚
   â”‚ Page Renders  â”‚                   â”‚                â”‚               â”‚
   â”‚ (React)       â”‚                   â”‚                â”‚               â”‚
   â”‚               â”‚                   â”‚                â”‚               â”‚
   â”‚ Fetch Tasks   â”‚                   â”‚                â”‚               â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                â”‚               â”‚
   â”‚               â”‚                   â”‚ API Request    â”‚               â”‚
   â”‚               â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚
   â”‚               â”‚                   â”‚                â”‚  SQL Query    â”‚
   â”‚               â”‚                   â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚               â”‚                   â”‚                â”‚               â”‚
   â”‚               â”‚                   â”‚                â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚               â”‚                   â”‚                â”‚  RLS Filter   â”‚
   â”‚               â”‚                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  Applied      â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ JSON Response  â”‚               â”‚
   â”‚               â”‚                   â”‚                â”‚               â”‚
   â”‚ Update UI     â”‚                   â”‚                â”‚               â”‚
   â”‚               â”‚                   â”‚                â”‚               â”‚
```

---

## ğŸ–¥ï¸ Frontend Architecture

### Next.js 14 App Router Structure

The application uses Next.js 14's App Router, which provides:

- **File-based routing**: Each folder in `/app` becomes a route
- **Layouts**: Shared UI that persists across route changes
- **Server Components**: Default for better performance (we use Client Components for interactivity)
- **Middleware**: Request interception for authentication

```
app/
â”œâ”€â”€ layout.tsx          # Root layout - wraps ALL pages
â”‚   â”‚                   # Contains: <html>, <body>, AuthProvider
â”‚   â”‚
â”œâ”€â”€ page.tsx            # Main dashboard (/)
â”‚   â”‚                   # Protected route - requires authentication
â”‚   â”‚                   # Contains: Calendar, TaskModal, Stats
â”‚   â”‚
â”œâ”€â”€ login/
â”‚   â””â”€â”€ page.tsx        # Login page (/login)
â”‚                       # Public route - redirects if already logged in
â”‚
â”œâ”€â”€ signup/
â”‚   â””â”€â”€ page.tsx        # Signup page (/signup)
â”‚                       # Public route - redirects if already logged in
â”‚
â””â”€â”€ auth/
    â””â”€â”€ callback/
        â””â”€â”€ route.ts    # OAuth callback handler (/auth/callback)
                        # API Route - exchanges OAuth code for session
```

### Component Hierarchy

```
RootLayout (layout.tsx)
â”‚
â”œâ”€â”€ AuthProvider (components/AuthProvider.tsx)
â”‚   â”‚   â€¢ Provides user state to entire app
â”‚   â”‚   â€¢ Handles auth state changes
â”‚   â”‚   â€¢ Exposes: user, loading, signOut
â”‚   â”‚
â”‚   â””â”€â”€ Page Content
â”‚       â”‚
â”‚       â”œâ”€â”€ [/login] LoginPage
â”‚       â”‚   â””â”€â”€ Auth (components/Auth.tsx)
â”‚       â”‚       â€¢ Login/Signup form
â”‚       â”‚       â€¢ Google OAuth button
â”‚       â”‚       â€¢ Form validation
â”‚       â”‚
â”‚       â”œâ”€â”€ [/signup] SignupPage
â”‚       â”‚   â””â”€â”€ Auth (components/Auth.tsx)
â”‚       â”‚
â”‚       â””â”€â”€ [/] HomePage (app/page.tsx)
â”‚           â”‚
â”‚           â”œâ”€â”€ Header
â”‚           â”‚   â€¢ App title
â”‚           â”‚   â€¢ User email display
â”‚           â”‚   â€¢ Sign out button
â”‚           â”‚
â”‚           â”œâ”€â”€ TaskStats (components/TaskStats.tsx)
â”‚           â”‚   â€¢ Total tasks count
â”‚           â”‚   â€¢ Completed tasks count
â”‚           â”‚   â€¢ Visual progress indicator
â”‚           â”‚
â”‚           â”œâ”€â”€ ExamAverageCalculator (components/ExamAverageCalculator.tsx)
â”‚           â”‚   â€¢ Only shows during exam sessions
â”‚           â”‚   â€¢ Calculates weighted GPA
â”‚           â”‚   â€¢ Displays credits summary
â”‚           â”‚
â”‚           â”œâ”€â”€ WeeklyCalendar (components/WeeklyCalendar.tsx)
â”‚           â”‚   â”‚
â”‚           â”‚   â”œâ”€â”€ Week Navigation Header
â”‚           â”‚   â”‚   â€¢ Previous/Next week buttons
â”‚           â”‚   â”‚   â€¢ Current week display
â”‚           â”‚   â”‚   â€¢ Academic week number
â”‚           â”‚   â”‚
â”‚           â”‚   â”œâ”€â”€ Day Selector
â”‚           â”‚   â”‚   â€¢ 7 day buttons (Mon-Sun)
â”‚           â”‚   â”‚   â€¢ Task count badges
â”‚           â”‚   â”‚   â€¢ Today indicator
â”‚           â”‚   â”‚
â”‚           â”‚   â””â”€â”€ Task List
â”‚           â”‚       â€¢ Task cards for selected day
â”‚           â”‚       â€¢ Completion toggle (personal only)
â”‚           â”‚       â€¢ Edit/Delete/Notes buttons
â”‚           â”‚
â”‚           â”œâ”€â”€ TaskModal (components/TaskModal.tsx)
â”‚           â”‚   â€¢ Create/Edit task form
â”‚           â”‚   â€¢ Task type selection
â”‚           â”‚   â€¢ Semester course configuration
â”‚           â”‚   â€¢ Time picker
â”‚           â”‚
â”‚           â”œâ”€â”€ TaskNotesPanel (components/TaskNotesPanel.tsx)
â”‚           â”‚   â€¢ Slide-out panel
â”‚           â”‚   â€¢ Notes editor
â”‚           â”‚   â€¢ Auto-save functionality
â”‚           â”‚
â”‚           â””â”€â”€ Toast (components/Toast.tsx)
â”‚               â€¢ Success/Error notifications
â”‚               â€¢ Auto-dismiss timer
â”‚               â€¢ Slide-up animation
```

---

## ğŸ”§ Backend Architecture

### Supabase as Backend-as-a-Service

Supabase provides a complete backend solution without writing server code:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           SUPABASE PLATFORM                              â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         GoTrue (Auth)                            â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â”‚   Responsibilities:                                              â”‚   â”‚
â”‚  â”‚   â€¢ User registration (email/password)                           â”‚   â”‚
â”‚  â”‚   â€¢ User authentication (login)                                  â”‚   â”‚
â”‚  â”‚   â€¢ OAuth provider integration (Google)                          â”‚   â”‚
â”‚  â”‚   â€¢ JWT token generation and validation                          â”‚   â”‚
â”‚  â”‚   â€¢ Session management                                           â”‚   â”‚
â”‚  â”‚   â€¢ Password reset flows                                         â”‚   â”‚
â”‚  â”‚   â€¢ Email verification                                           â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â”‚   Endpoints Used:                                                â”‚   â”‚
â”‚  â”‚   â€¢ POST /auth/v1/signup                                         â”‚   â”‚
â”‚  â”‚   â€¢ POST /auth/v1/token?grant_type=password                      â”‚   â”‚
â”‚  â”‚   â€¢ GET  /auth/v1/authorize (OAuth)                              â”‚   â”‚
â”‚  â”‚   â€¢ POST /auth/v1/token?grant_type=refresh_token                 â”‚   â”‚
â”‚  â”‚   â€¢ POST /auth/v1/logout                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                    â”‚
â”‚                                    â”‚ User ID (UUID)                     â”‚
â”‚                                    â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      PostgREST (API Layer)                       â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â”‚   Automatically generates REST API from database schema:         â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â”‚   GET    /rest/v1/tasks              â†’ SELECT * FROM tasks       â”‚   â”‚
â”‚  â”‚   POST   /rest/v1/tasks              â†’ INSERT INTO tasks         â”‚   â”‚
â”‚  â”‚   PATCH  /rest/v1/tasks?id=eq.xxx    â†’ UPDATE tasks WHERE id=xxx â”‚   â”‚
â”‚  â”‚   DELETE /rest/v1/tasks?id=eq.xxx    â†’ DELETE FROM tasks WHERE..â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â”‚   Features:                                                      â”‚   â”‚
â”‚  â”‚   â€¢ Automatic CRUD endpoints                                     â”‚   â”‚
â”‚  â”‚   â€¢ Query parameters for filtering                               â”‚   â”‚
â”‚  â”‚   â€¢ Bulk operations (upsert)                                     â”‚   â”‚
â”‚  â”‚   â€¢ Ordering and pagination                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                    â”‚
â”‚                                    â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     PostgreSQL Database                          â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â”‚   Tables:                                                        â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚   â”‚   auth.users    â”‚    â”‚           tasks                  â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   (Supabase)    â”‚â—„â”€â”€â”€â”‚                                  â”‚    â”‚   â”‚
â”‚  â”‚   â”‚                 â”‚    â”‚   id (PK)                        â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   id (PK, UUID) â”‚    â”‚   user_id (FK) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚   â”‚   email         â”‚    â”‚   title                          â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   created_at    â”‚    â”‚   type                           â”‚    â”‚   â”‚
â”‚  â”‚   â”‚   ...           â”‚    â”‚   date                           â”‚    â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   completed                      â”‚    â”‚   â”‚
â”‚  â”‚                          â”‚   ... (see full schema below)    â”‚    â”‚   â”‚
â”‚  â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â”‚   Row Level Security (RLS):                                      â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚  POLICY: "Users can view their own tasks"                â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  FOR SELECT USING (auth.uid() = user_id)                 â”‚   â”‚   â”‚
â”‚  â”‚   â”‚                                                          â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  Every SELECT query automatically filters:               â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  SELECT * FROM tasks WHERE user_id = [current_user_id]   â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Why Supabase?

| Traditional Backend | Supabase Approach |
|---------------------|-------------------|
| Write Express/FastAPI server | Auto-generated REST API |
| Implement auth from scratch | Built-in Auth with OAuth |
| Write SQL migrations manually | SQL Editor + Migrations |
| Set up database hosting | Managed PostgreSQL |
| Implement authorization logic | Row Level Security policies |
| Build admin dashboard | Built-in Table Editor |

---

## ğŸ” Authentication System

### Authentication Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     EMAIL/PASSWORD AUTHENTICATION                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  User  â”‚                                              â”‚ Supabase â”‚
   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚                                                        â”‚
       â”‚  1. Enter email + password                             â”‚
       â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                            â”‚
       â”‚                                                        â”‚
       â”‚                            2. Validate credentials     â”‚
       â”‚                            â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
       â”‚                                                        â”‚
       â”‚  3. Return JWT tokens (access + refresh)               â”‚
       â”‚  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                                                        â”‚
       â”‚  4. Store tokens in cookies                            â”‚
       â”‚  (handled by Supabase SSR)                             â”‚
       â”‚                                                        â”‚
       â”‚  5. Redirect to dashboard                              â”‚
       â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                            â”‚
       â”‚                                                        â”‚


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        GOOGLE OAUTH AUTHENTICATION                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  User  â”‚     â”‚   App    â”‚     â”‚ Google â”‚     â”‚ Supabase â”‚
   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚               â”‚               â”‚               â”‚
       â”‚ 1. Click      â”‚               â”‚               â”‚
       â”‚ "Google"      â”‚               â”‚               â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚               â”‚
       â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚ 2. Redirect to Google         â”‚
       â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚
       â”‚               â”‚               â”‚               â”‚
       â”‚ 3. Login to Google            â”‚               â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚
       â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚ 4. Redirect with code         â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
       â”‚               â”‚               â”‚               â”‚
       â”‚ 5. /auth/callback?code=xxx    â”‚               â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚               â”‚               â”‚
       â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚ 6. Exchange code for session  â”‚
       â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚ 7. Return session tokens      â”‚
       â”‚               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚               â”‚               â”‚               â”‚
       â”‚ 8. Redirect to dashboard      â”‚               â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚               â”‚
       â”‚               â”‚               â”‚               â”‚
```

### Session Management

```typescript
// How sessions work in StudenTM

// 1. AuthProvider checks session on app load
useEffect(() => {
  supabase.auth.getSession().then(({ data: { session } }) => {
    setUser(session?.user ?? null);
  });

  // 2. Listen for auth state changes (login, logout, token refresh)
  const { data: { subscription } } = supabase.auth.onAuthStateChange(
    (_event, session) => {
      setUser(session?.user ?? null);
    }
  );

  return () => subscription.unsubscribe();
}, []);

// 3. Middleware validates session on every request
// middleware.ts
export async function middleware(request: NextRequest) {
  const { data: { user } } = await supabase.auth.getUser();
  
  if (!user && !isPublicRoute(request.nextUrl.pathname)) {
    return NextResponse.redirect('/login');
  }
}
```

---

## ğŸ—„ï¸ Database Design

### Entity Relationship Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              auth.users                                  â”‚
â”‚                           (Supabase Managed)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  id              UUID          PRIMARY KEY                              â”‚
â”‚  email           VARCHAR       NOT NULL, UNIQUE                         â”‚
â”‚  encrypted_password VARCHAR    NOT NULL                                 â”‚
â”‚  created_at      TIMESTAMPTZ   NOT NULL                                 â”‚
â”‚  updated_at      TIMESTAMPTZ   NOT NULL                                 â”‚
â”‚  ...             ...           (other Supabase fields)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ 1:N relationship
                                    â”‚ (One user has many tasks)
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                tasks                                     â”‚
â”‚                          (Application Table)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          CORE FIELDS                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  id              TEXT          PRIMARY KEY (timestamp-based)            â”‚
â”‚  user_id         UUID          FOREIGN KEY â†’ auth.users(id)             â”‚
â”‚  title           TEXT          NOT NULL                                 â”‚
â”‚  description     TEXT          NULLABLE                                 â”‚
â”‚  type            TEXT          NOT NULL ('course'|'personal'|'exam')    â”‚
â”‚  date            TEXT          NOT NULL (YYYY-MM-DD format)             â”‚
â”‚  completed       BOOLEAN       NOT NULL DEFAULT FALSE                   â”‚
â”‚  notes           TEXT          NULLABLE                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          TIME FIELDS                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  start_time      TEXT          NULLABLE (HH:mm format)                  â”‚
â”‚  end_time        TEXT          NULLABLE (HH:mm format)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       COURSE-SPECIFIC FIELDS                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  course_name     TEXT          NULLABLE (legacy field)                  â”‚
â”‚  activity_type   TEXT          NULLABLE ('course'|'seminar'|            â”‚
â”‚                                          'laboratory'|'project')        â”‚
â”‚  frequency       TEXT          NULLABLE ('weekly'|'biweekly')           â”‚
â”‚  semester_id     TEXT          NULLABLE (semester reference)            â”‚
â”‚  start_date      TEXT          NULLABLE (semester start)                â”‚
â”‚  end_date        TEXT          NULLABLE (semester end)                  â”‚
â”‚  day_of_week     INTEGER       NULLABLE (0=Sunday, 1=Monday, etc.)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        EXAM-SPECIFIC FIELDS                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  exam_type       TEXT          NULLABLE ('exam'|'oral_exam'|            â”‚
â”‚                                          'written_exam'|'practical_exam')â”‚
â”‚  exam_session_id TEXT          NULLABLE (exam session reference)        â”‚
â”‚  exam_result     NUMERIC       NULLABLE (grade 0-10 or 0-100)           â”‚
â”‚  credits         NUMERIC       NULLABLE (ECTS credits)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         METADATA FIELDS                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  created_at      TIMESTAMPTZ   NOT NULL DEFAULT NOW()                   â”‚
â”‚  updated_at      TIMESTAMPTZ   NOT NULL DEFAULT NOW() (auto-updated)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

INDEXES:
  â€¢ idx_tasks_user_id ON tasks(user_id)     -- Fast user filtering
  â€¢ idx_tasks_date ON tasks(date)           -- Fast date range queries

CONSTRAINTS:
  â€¢ type CHECK (type IN ('course', 'personal', 'exam'))
  â€¢ activity_type CHECK (activity_type IN ('course', 'seminar', 'laboratory', 'project'))
  â€¢ frequency CHECK (frequency IN ('weekly', 'biweekly'))
  â€¢ exam_type CHECK (exam_type IN ('exam', 'oral_exam', 'written_exam', 'practical_exam'))
  â€¢ day_of_week CHECK (day_of_week >= 0 AND day_of_week <= 6)
  â€¢ user_id REFERENCES auth.users(id) ON DELETE CASCADE
```

### Task Type Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           TASK TYPES                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚    Task     â”‚
                        â”‚   (base)    â”‚
                        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                   â”‚                   â”‚
           â–¼                   â–¼                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Course    â”‚     â”‚  Personal   â”‚     â”‚    Exam     â”‚
    â”‚   Task      â”‚     â”‚    Task     â”‚     â”‚    Task     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                   â”‚                   â”‚
    Fields Used:         Fields Used:       Fields Used:
    â€¢ activity_type      â€¢ completed        â€¢ exam_type
    â€¢ frequency          â€¢ notes            â€¢ exam_result
    â€¢ semester_id                           â€¢ credits
    â€¢ start_date                            â€¢ exam_session_id
    â€¢ end_date
    â€¢ day_of_week

    Behavior:            Behavior:          Behavior:
    â€¢ Recurring          â€¢ One-time         â€¢ One-time
    â€¢ No checkbox        â€¢ Has checkbox     â€¢ No checkbox
    â€¢ Generates          â€¢ Completable      â€¢ Has grade input
      instances
```

### Semester Course Instance Generation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RECURRING COURSE GENERATION                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User creates: "Data Structures - Seminar"
             Monday, Weekly, Semester 1 (Oct 7 - Jan 24)

                              â”‚
                              â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚       PARENT TEMPLATE         â”‚
              â”‚                               â”‚
              â”‚  id: "1699000000000"          â”‚
              â”‚  title: "Data Structures"     â”‚
              â”‚  activity_type: "seminar"     â”‚
              â”‚  frequency: "weekly"          â”‚
              â”‚  day_of_week: 1 (Monday)      â”‚
              â”‚  start_date: "2025-10-07"     â”‚
              â”‚  end_date: "2026-01-24"       â”‚
              â”‚  semester_id: "sem1"          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ generateSemesterTaskInstances()
                              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                   GENERATED INSTANCES                       â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                                                            â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
     â”‚  â”‚ id: "1699000000000-2025-10-07"      â”‚  Week 1           â”‚
     â”‚  â”‚ date: "2025-10-07"                  â”‚                   â”‚
     â”‚  â”‚ (inherits all other fields)         â”‚                   â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
     â”‚                                                            â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
     â”‚  â”‚ id: "1699000000000-2025-10-14"      â”‚  Week 2           â”‚
     â”‚  â”‚ date: "2025-10-14"                  â”‚                   â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
     â”‚                                                            â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
     â”‚  â”‚ id: "1699000000000-2025-10-21"      â”‚  Week 3           â”‚
     â”‚  â”‚ date: "2025-10-21"                  â”‚                   â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
     â”‚                                                            â”‚
     â”‚  ... (continues for all 14 weeks)                          â”‚
     â”‚                                                            â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
     â”‚  â”‚ id: "1699000000000-2026-01-20"      â”‚  Week 14          â”‚
     â”‚  â”‚ date: "2026-01-20"                  â”‚                   â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
     â”‚                                                            â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ID Format: "{parent_id}-{date}"
  â€¢ Allows tracking which instance belongs to which parent
  â€¢ Enables editing individual instances OR all instances
  â€¢ Supports deletion of parent + all instances
```

---

## ğŸ§© Component Architecture

### Component Responsibilities

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         AuthProvider.tsx                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Purpose: Global authentication state management                        â”‚
â”‚                                                                         â”‚
â”‚  State:                                                                 â”‚
â”‚    â€¢ user: User | null                                                  â”‚
â”‚    â€¢ loading: boolean                                                   â”‚
â”‚                                                                         â”‚
â”‚  Methods:                                                               â”‚
â”‚    â€¢ signOut(): Promise<void>                                           â”‚
â”‚                                                                         â”‚
â”‚  Context Provided:                                                      â”‚
â”‚    â€¢ useAuth() hook for accessing auth state anywhere                   â”‚
â”‚                                                                         â”‚
â”‚  Lifecycle:                                                             â”‚
â”‚    1. On mount: Check existing session                                  â”‚
â”‚    2. Subscribe to auth state changes                                   â”‚
â”‚    3. Update user state on login/logout/token refresh                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Auth.tsx                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Purpose: Login and signup form with OAuth                              â”‚
â”‚                                                                         â”‚
â”‚  Props:                                                                 â”‚
â”‚    â€¢ onAuthSuccess: () => void                                          â”‚
â”‚                                                                         â”‚
â”‚  State:                                                                 â”‚
â”‚    â€¢ isLogin: boolean (toggle between login/signup)                     â”‚
â”‚    â€¢ email, password: string                                            â”‚
â”‚    â€¢ loading, oauthLoading: boolean                                     â”‚
â”‚    â€¢ toast: error/success messages                                      â”‚
â”‚                                                                         â”‚
â”‚  Methods:                                                               â”‚
â”‚    â€¢ handleAuth(): Email/password authentication                        â”‚
â”‚    â€¢ handleOAuthLogin(): Google OAuth flow                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       WeeklyCalendar.tsx                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Purpose: Main calendar view and task display                           â”‚
â”‚                                                                         â”‚
â”‚  Props:                                                                 â”‚
â”‚    â€¢ tasks: Task[]                                                      â”‚
â”‚    â€¢ selectedDate: string                                               â”‚
â”‚    â€¢ onDateSelect, onTaskClick, onTaskDelete                            â”‚
â”‚    â€¢ onTaskToggleComplete, onTaskNotes                                  â”‚
â”‚    â€¢ academicYear: AcademicYear                                         â”‚
â”‚                                                                         â”‚
â”‚  Computed:                                                              â”‚
â”‚    â€¢ weekDays: Array of 7 dates for current week                        â”‚
â”‚    â€¢ weekTasks: Tasks filtered to current week                          â”‚
â”‚    â€¢ weekInfo: Academic week number and period                          â”‚
â”‚                                                                         â”‚
â”‚  Sub-sections:                                                          â”‚
â”‚    â€¢ Week navigation header (prev/next week)                            â”‚
â”‚    â€¢ Day selector (7 day buttons)                                       â”‚
â”‚    â€¢ Task list for selected day                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         TaskModal.tsx                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Purpose: Create and edit tasks                                         â”‚
â”‚                                                                         â”‚
â”‚  Props:                                                                 â”‚
â”‚    â€¢ task: Task | null (null = create, Task = edit)                     â”‚
â”‚    â€¢ selectedDate: string                                               â”‚
â”‚    â€¢ onSave: (task: Omit<Task, 'id'>) => void                           â”‚
â”‚    â€¢ onClose: () => void                                                â”‚
â”‚    â€¢ academicYear: AcademicYear                                         â”‚
â”‚                                                                         â”‚
â”‚  Form Sections (conditional):                                           â”‚
â”‚    â€¢ Type selector (course/personal/exam)                               â”‚
â”‚    â€¢ Basic info (title, description)                                    â”‚
â”‚    â€¢ Time picker (start/end time)                                       â”‚
â”‚    â€¢ [Course] Semester selection, activity type, frequency              â”‚
â”‚    â€¢ [Exam] Exam type, credits                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ExamAverageCalculator.tsx                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Purpose: Calculate weighted GPA during exam sessions                   â”‚
â”‚                                                                         â”‚
â”‚  Props:                                                                 â”‚
â”‚    â€¢ tasks: Task[]                                                      â”‚
â”‚    â€¢ selectedDate: string                                               â”‚
â”‚    â€¢ academicYear: AcademicYear                                         â”‚
â”‚                                                                         â”‚
â”‚  Calculations:                                                          â”‚
â”‚    â€¢ Filter exam tasks with results                                     â”‚
â”‚    â€¢ Calculate: Î£(grade Ã— credits) / Î£(credits)                         â”‚
â”‚    â€¢ Display total credits and weighted average                         â”‚
â”‚                                                                         â”‚
â”‚  Visibility:                                                            â”‚
â”‚    â€¢ Only shown when selectedDate is in exam session period             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š State Management

### State Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STATE MANAGEMENT                                 â”‚
â”‚                    (No external library - React built-ins)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     GLOBAL STATE (Context API)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   AuthContext (AuthProvider.tsx)                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  user: User | null        // Current authenticated user          â”‚  â”‚
â”‚   â”‚  loading: boolean         // Auth state loading                  â”‚  â”‚
â”‚   â”‚  signOut: () => void      // Logout function                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â”‚   Access: const { user, loading, signOut } = useAuth();                 â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     PAGE-LEVEL STATE (useState)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   HomePage (app/page.tsx)                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  tasks: Task[]            // All user tasks from Supabase        â”‚  â”‚
â”‚   â”‚  selectedDate: string     // Currently selected date             â”‚  â”‚
â”‚   â”‚  isModalOpen: boolean     // Task modal visibility               â”‚  â”‚
â”‚   â”‚  editingTask: Task | null // Task being edited (null = create)   â”‚  â”‚
â”‚   â”‚  notesTask: Task | null   // Task with notes panel open          â”‚  â”‚
â”‚   â”‚  toast: {...} | null      // Current notification                â”‚  â”‚
â”‚   â”‚  loading: boolean         // Data loading state                  â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DERIVED STATE (useMemo)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   academicYear = useMemo(() => createAcademicYear(2025), [])           â”‚
â”‚   // Computed once: semester dates, exam sessions, holidays             â”‚
â”‚                                                                         â”‚
â”‚   isExamSession = useMemo(() => {                                      â”‚
â”‚     return getSemesterForDate(selectedDate, academicYear) === "exam"   â”‚
â”‚   }, [academicYear, selectedDate])                                     â”‚
â”‚   // Recomputed when selectedDate changes                               â”‚
â”‚                                                                         â”‚
â”‚   weekTasks = useMemo(() => {                                          â”‚
â”‚     return getTasksForDateRange(tasks, weekStart, weekEnd)             â”‚
â”‚   }, [tasks, weekDays])                                                â”‚
â”‚   // Recomputed when tasks or week changes                              â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STATE FLOW DIAGRAM                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   User Login                                                            â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â–¼                                                                 â”‚
â”‚   AuthProvider updates user state                                       â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â–¼                                                                 â”‚
â”‚   HomePage mounts â†’ useEffect triggers                                  â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â–¼                                                                 â”‚
â”‚   fetchTasks() from Supabase                                           â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â–¼                                                                 â”‚
â”‚   setTasks(fetchedTasks) â†’ UI renders                                  â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â–¼                                                                 â”‚
â”‚   User clicks "Add Task" â†’ setIsModalOpen(true)                        â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â–¼                                                                 â”‚
â”‚   User fills form â†’ onSave()                                           â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â–¼                                                                 â”‚
â”‚   saveTasks() to Supabase                                              â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â–¼                                                                 â”‚
â”‚   setTasks(updatedTasks) â†’ UI updates                                  â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow

### CRUD Operations Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           CREATE TASK                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  User fills TaskModal form
           â”‚
           â–¼
  handleSaveTask(taskData)
           â”‚
           â”œâ”€â”€ Generate task ID: Date.now().toString()
           â”‚
           â”œâ”€â”€ If semester course:
           â”‚      â””â”€â”€ generateSemesterTaskInstances(task)
           â”‚             â””â”€â”€ Creates array of recurring instances
           â”‚
           â–¼
  setTasks([...tasks, newTask, ...instances])
           â”‚
           â–¼
  await saveTasks(updatedTasks)
           â”‚
           â”œâ”€â”€ getUserId() from Supabase auth
           â”‚
           â”œâ”€â”€ Transform: camelCase â†’ snake_case
           â”‚      taskToRow(task, userId)
           â”‚
           â–¼
  Supabase: UPSERT INTO tasks
           â”‚
           â”œâ”€â”€ RLS: Check auth.uid() = user_id
           â”‚
           â–¼
  Success â†’ showToast("Task created!")


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            READ TASKS                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  useEffect on component mount (when user is authenticated)
           â”‚
           â–¼
  await fetchTasks()
           â”‚
           â–¼
  Supabase: SELECT * FROM tasks ORDER BY date
           â”‚
           â”œâ”€â”€ RLS automatically adds: WHERE user_id = auth.uid()
           â”‚
           â–¼
  Response: Array of task rows (snake_case)
           â”‚
           â–¼
  Transform: snake_case â†’ camelCase
           â”‚    data.map(rowToTask)
           â”‚
           â–¼
  setTasks(transformedTasks)
           â”‚
           â–¼
  UI renders with tasks


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           UPDATE TASK                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  User edits task in TaskModal
           â”‚
           â–¼
  handleSaveTask(updatedTaskData)
           â”‚
           â”œâ”€â”€ Check if editing instance (ID ends with date)
           â”‚      â””â”€â”€ Update only that instance
           â”‚
           â”œâ”€â”€ Check if editing parent template
           â”‚      â””â”€â”€ Regenerate all instances
           â”‚
           â”œâ”€â”€ Regular task
           â”‚      â””â”€â”€ Update in place
           â”‚
           â–¼
  setTasks(updatedTasks)
           â”‚
           â–¼
  await saveTasks(updatedTasks)
           â”‚
           â–¼
  Supabase: UPSERT (updates existing or inserts new)
           â”‚
           â–¼
  Success â†’ showToast("Task updated!")


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           DELETE TASK                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  User clicks delete button
           â”‚
           â–¼
  handleDeleteTask(taskId)
           â”‚
           â”œâ”€â”€ Check if instance (ID ends with date)
           â”‚      â””â”€â”€ Delete only that instance
           â”‚
           â”œâ”€â”€ Check if parent template
           â”‚      â””â”€â”€ Collect all instance IDs
           â”‚      â””â”€â”€ Delete parent + all instances
           â”‚
           â–¼
  setTasks(filtered tasks) // Optimistic update
           â”‚
           â–¼
  await deleteTasks(taskIds)
           â”‚
           â–¼
  Supabase: DELETE FROM tasks WHERE id IN (...)
           â”‚
           â”œâ”€â”€ If error: setTasks(originalTasks) // Revert
           â”‚
           â–¼
  Success â†’ showToast("Task deleted!")
```

---

## ğŸ”Œ API Layer

### Supabase Client Configuration

```typescript
// lib/supabase/client.ts - Browser Client
// Used in React components and client-side code

import { createBrowserClient } from '@supabase/ssr'

export function createClient() {
  return createBrowserClient(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
  )
}

// Characteristics:
// â€¢ Runs in browser
// â€¢ Uses cookies for session storage
// â€¢ Automatic token refresh
// â€¢ Used for: Auth operations, data fetching in components
```

```typescript
// lib/supabase/server.ts - Server Client
// Used in API routes and Server Components

import { createServerClient } from '@supabase/ssr'
import { cookies } from 'next/headers'

export async function createClient() {
  const cookieStore = await cookies()
  
  return createServerClient(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,
    {
      cookies: {
        getAll() { return cookieStore.getAll() },
        setAll(cookiesToSet) { /* ... */ }
      }
    }
  )
}

// Characteristics:
// â€¢ Runs on server
// â€¢ Accesses cookies from request
// â€¢ Used for: Middleware auth checks, OAuth callback
```

### Task Operations API

```typescript
// utils/supabase-tasks.ts

// Data transformation layer handles case conversion:
// TypeScript (camelCase) â†â†’ PostgreSQL (snake_case)

interface TaskRow {           interface Task {
  id: string;                   id: string;
  user_id: string;              // not exposed
  start_time: string;           startTime: string;
  end_time: string;             endTime: string;
  activity_type: string;        activityType: string;
  // ... etc                    // ... etc
}                             }

// rowToTask(): Database â†’ Application
// taskToRow(): Application â†’ Database

// API Functions:

async function fetchTasks(): Promise<Task[]>
  // SELECT * FROM tasks ORDER BY date ASC
  // + RLS filter + case transformation

async function saveTasks(tasks: Task[]): Promise<void>
  // UPSERT INTO tasks (...)
  // Handles both create and update

async function deleteTasks(taskIds: string[]): Promise<void>
  // DELETE FROM tasks WHERE id IN (...)
```

---

## ğŸ”’ Security Architecture

### Defense in Depth

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SECURITY LAYERS                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Layer 1: HTTPS Transport
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ All traffic encrypted with TLS 1.3                                   â”‚
â”‚  â€¢ Prevents man-in-the-middle attacks                                   â”‚
â”‚  â€¢ Enforced by Vercel/hosting and Supabase                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
Layer 2: Next.js Middleware (Route Protection)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ Intercepts ALL requests before reaching pages                        â”‚
â”‚  â€¢ Validates session with Supabase                                      â”‚
â”‚  â€¢ Redirects unauthenticated users to /login                           â”‚
â”‚  â€¢ Allows: /login, /signup, /auth/callback                             â”‚
â”‚                                                                         â”‚
â”‚  if (!user && !isPublicRoute) {                                        â”‚
â”‚    return redirect('/login')                                           â”‚
â”‚  }                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
Layer 3: Supabase Authentication
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ JWT-based authentication                                             â”‚
â”‚  â€¢ Tokens stored in HTTP-only cookies (XSS protection)                  â”‚
â”‚  â€¢ Automatic token refresh                                              â”‚
â”‚  â€¢ Password hashing with bcrypt                                         â”‚
â”‚  â€¢ OAuth with secure state parameters (CSRF protection)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
Layer 4: Row Level Security (Database)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ EVERY query filtered by user_id automatically                        â”‚
â”‚  â€¢ Cannot bypass - enforced at database level                          â”‚
â”‚  â€¢ Even if API is compromised, data isolation maintained               â”‚
â”‚                                                                         â”‚
â”‚  Policy: auth.uid() = user_id                                          â”‚
â”‚                                                                         â”‚
â”‚  User A queries: SELECT * FROM tasks                                   â”‚
â”‚  Database adds:  WHERE user_id = 'user-a-uuid'                         â”‚
â”‚  Result: Only User A's tasks                                           â”‚
â”‚                                                                         â”‚
â”‚  User B queries: SELECT * FROM tasks                                   â”‚
â”‚  Database adds:  WHERE user_id = 'user-b-uuid'                         â”‚
â”‚  Result: Only User B's tasks                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
Layer 5: Input Validation
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ TypeScript type checking at compile time                             â”‚
â”‚  â€¢ Database constraints (CHECK constraints, NOT NULL)                   â”‚
â”‚  â€¢ Form validation in React components                                  â”‚
â”‚  â€¢ Supabase validates data types on insert/update                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### RLS Policies Explained

```sql
-- POLICY 1: SELECT (Read)
CREATE POLICY "Users can view their own tasks"
  ON tasks FOR SELECT
  USING (auth.uid() = user_id);

-- How it works:
-- Original query: SELECT * FROM tasks
-- With RLS:       SELECT * FROM tasks WHERE user_id = auth.uid()
-- Effect: User only sees their own tasks


-- POLICY 2: INSERT (Create)
CREATE POLICY "Users can insert their own tasks"
  ON tasks FOR INSERT
  WITH CHECK (auth.uid() = user_id);

-- How it works:
-- Original query: INSERT INTO tasks (user_id, ...) VALUES ('some-id', ...)
-- With RLS:       Checks if 'some-id' = auth.uid()
-- Effect: Users can only create tasks with their own user_id


-- POLICY 3: UPDATE (Modify)
CREATE POLICY "Users can update their own tasks"
  ON tasks FOR UPDATE
  USING (auth.uid() = user_id)
  WITH CHECK (auth.uid() = user_id);

-- How it works:
-- USING:      Can only update rows where user_id = auth.uid()
-- WITH CHECK: Cannot change user_id to someone else's
-- Effect: Users can only modify their own tasks


-- POLICY 4: DELETE (Remove)
CREATE POLICY "Users can delete their own tasks"
  ON tasks FOR DELETE
  USING (auth.uid() = user_id);

-- How it works:
-- Original query: DELETE FROM tasks WHERE id = 'xxx'
-- With RLS:       DELETE FROM tasks WHERE id = 'xxx' AND user_id = auth.uid()
-- Effect: Users can only delete their own tasks
```

---

## âœ¨ Features Overview

| Feature | Description | Implementation |
|---------|-------------|----------------|
| **Email Auth** | Register/login with email | Supabase GoTrue |
| **Google OAuth** | One-click Google sign-in | Supabase OAuth + callback route |
| **Session Persistence** | Stay logged in | HTTP-only cookies |
| **Protected Routes** | Require auth for dashboard | Next.js middleware |
| **Weekly Calendar** | 7-day view with navigation | WeeklyCalendar component |
| **Task CRUD** | Create, read, update, delete | Supabase PostgREST |
| **Task Types** | Course, personal, exam | Type field + conditional UI |
| **Recurring Courses** | Weekly/biweekly schedules | Instance generation algorithm |
| **Semester Awareness** | Academic calendar integration | semester.ts utilities |
| **Exam Grades** | Track results and credits | exam_result, credits fields |
| **GPA Calculator** | Weighted average | ExamAverageCalculator |
| **Task Completion** | Mark personal tasks done | completed field + checkbox |
| **Notes** | Add notes to tasks | TaskNotesPanel |
| **Dark Mode** | System preference detection | Tailwind dark: classes |
| **Responsive Design** | Mobile-friendly | Tailwind responsive utilities |
| **Toast Notifications** | Success/error feedback | Toast component |
| **Keyboard Shortcuts** | Arrow keys, T for today | useEffect keydown listener |

---

## ğŸ› ï¸ Tech Stack

### Frontend Technologies

| Technology | Version | Purpose |
|------------|---------|---------|
| **Next.js** | 14.2.x | React framework with App Router, SSR, file-based routing |
| **React** | 18.3.x | UI component library |
| **TypeScript** | 5.5.x | Static type checking |
| **Tailwind CSS** | 3.4.x | Utility-first CSS framework |
| **Lucide React** | 0.427.x | Icon library (400+ icons) |
| **date-fns** | 3.6.x | Date manipulation utilities |

### Backend Technologies

| Technology | Purpose |
|------------|---------|
| **Supabase** | Backend-as-a-Service platform |
| **PostgreSQL** | Primary database (managed by Supabase) |
| **PostgREST** | Auto-generated REST API |
| **GoTrue** | Authentication service |
| **Row Level Security** | Database-level authorization |

### Development Tools

| Tool | Purpose |
|------|---------|
| **ESLint** | Code linting |
| **PostCSS** | CSS processing |
| **Autoprefixer** | CSS vendor prefixes |

---

## ğŸ“ Project Structure

```
StudenTM/
â”‚
â”œâ”€â”€ app/                              # Next.js App Router
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â””â”€â”€ callback/
â”‚   â”‚       â””â”€â”€ route.ts              # OAuth callback API route
â”‚   â”‚
â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â””â”€â”€ page.tsx                  # Login page component
â”‚   â”‚
â”‚   â”œâ”€â”€ signup/
â”‚   â”‚   â””â”€â”€ page.tsx                  # Signup page component
â”‚   â”‚
â”‚   â”œâ”€â”€ globals.css                   # Global styles + animations
â”‚   â”œâ”€â”€ layout.tsx                    # Root layout (AuthProvider wrapper)
â”‚   â””â”€â”€ page.tsx                      # Main dashboard page
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Auth.tsx                      # Login/signup form + OAuth
â”‚   â”œâ”€â”€ AuthProvider.tsx              # Auth context provider
â”‚   â”œâ”€â”€ ExamAverageCalculator.tsx     # GPA calculator
â”‚   â”œâ”€â”€ TaskModal.tsx                 # Task create/edit form
â”‚   â”œâ”€â”€ TaskNotesPanel.tsx            # Notes slide-out panel
â”‚   â”œâ”€â”€ TaskStats.tsx                 # Task statistics
â”‚   â”œâ”€â”€ Toast.tsx                     # Notifications
â”‚   â””â”€â”€ WeeklyCalendar.tsx            # Main calendar view
â”‚
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ supabase/
â”‚       â”œâ”€â”€ client.ts                 # Browser Supabase client
â”‚       â”œâ”€â”€ middleware.ts             # Auth middleware helpers
â”‚       â””â”€â”€ server.ts                 # Server Supabase client
â”‚
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ semester.ts                   # Semester type definitions
â”‚   â””â”€â”€ task.ts                       # Task type definitions
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ semester.ts                   # Academic calendar utilities
â”‚   â”œâ”€â”€ supabase-tasks.ts             # Task CRUD operations
â”‚   â””â”€â”€ tasks.ts                      # Task helper functions
â”‚
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/
â”‚       â””â”€â”€ 001_create_tasks_table.sql # Database schema
â”‚
â”œâ”€â”€ middleware.ts                     # Next.js route middleware
â”œâ”€â”€ .env.local                        # Environment variables
â”œâ”€â”€ next.config.js                    # Next.js configuration
â”œâ”€â”€ tailwind.config.ts                # Tailwind CSS configuration
â”œâ”€â”€ tsconfig.json                     # TypeScript configuration
â””â”€â”€ package.json                      # Dependencies and scripts
```

---

## ğŸš€ Setup Guide

### Prerequisites

- Node.js 18.x or higher
- npm or yarn
- Supabase account (free tier available at [supabase.com](https://supabase.com))

### Step-by-Step Installation

```bash
# 1. Clone the repository
git clone <repository-url>
cd StudenTM

# 2. Install dependencies
npm install

# 3. Create environment file
touch .env.local
```

### Configure Supabase

1. Create a new project at [supabase.com](https://supabase.com)
2. Go to **Project Settings** â†’ **API**
3. Copy the **Project URL** and **anon public key**

```bash
# 4. Add to .env.local
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

### Set Up Database

1. Go to Supabase **SQL Editor**
2. Run the migration from `supabase/migrations/001_create_tasks_table.sql`

### Configure Authentication

1. Go to **Authentication** â†’ **Providers**
2. Enable **Email** (disable "Confirm email" for testing)
3. (Optional) Enable **Google** OAuth with your credentials

### Start Development Server

```bash
# 5. Run the app
npm run dev

# 6. Open browser
# Navigate to http://localhost:3000
```

---

## ğŸ“„ License

This project is for educational purposes.

---

**Built with â¤ï¸ using Next.js and Supabase**
